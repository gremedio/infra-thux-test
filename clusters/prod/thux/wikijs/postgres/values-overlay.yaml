fullnameOverride: pg-wikijs
version:
  postgresql: "15"
cluster:
  instances: 3
  storage:
    size: 800Mi
    storageClass: ""
  initdb:
    database: wikijs
    owner: wikijs
    secret:
      name: wikijs-db-credentials
#backups:
#  retentionPolicy: 14d
#  s3:
#    accessKey: CFCHQYI2ZH3ED9LLNJ4X
#    bucket: thux
#    path: /pg
#    secretKey: erQtBpOKsNHchcKSDIezRaYDUL36WeTeF0WrZdn1
#  scheduledBackups:
#  - backupOwnerReference: self
#    name: daily-backup
#    schedule: 0 0 0 * * *
backups:
  enabled: true
  provider: s3
  endpointURL: "https://s3.eu-south-1.wasabisys.com"
  s3:
    region: ""
    bucket: "guido-prova"
    path: "/"
    ###accessKey: "MJKGHZKETZKZJZW8NRQH"
    ####accessKey: "ZZZZZZZZZZZZZZZZZZZZ"

    # overwritten by overlay's kustomize
  secret:
    create: false
    name: pg-credentials

  scheduledBackups:
    - name: daily-backup
      schedule: "0 0 0 * * *"
      backupOwnerReference: self

  # Configurazioni aggiuntive per compressione e retention
  compression: gzip
  retentionPolicy: "100d"
  immediateCheckpoint: false
  jobs: 2
